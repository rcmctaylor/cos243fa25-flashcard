{% extends "/base.html" %}
{% import "/macros/card.html" as card_macro %}
{% block title %}View Flash Cards{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block content %}
        <h1>{{set.name}}</h1>
        {% if action == "edit" %}
         <form action="/sets/{{set.id}}/edit" method="post">
                name: <input type="text" name="name" value="{{set.name}}"><br>
                <input type="submit" value="Submit">
            </form>
            <form action="/sets/{{set.id}}/delete" method="post">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this sets (and all cards in it!)?');">
                        Delete Set
                    </button>
            </form>

        {% else %}
        {{set.name}} <a href="/sets/{{set.id}}?action=edit">Edit</a> 
        {% endif %}
        
        <h2>Cards in this set</h2>
        <a href="{{url_for('edit_cards')}}?set_id={{set.id}}">Add a card</a>
        {% if not cards|length %}
            There are no cards in this set yet.
        {% endif %}
        <div class="card-grid">
        {% for card in cards %}                        
            {{ card_macro.card(card) }}
        {% endfor %}        
        </div>
 {% endblock %}